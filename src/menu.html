<style>
#overlay {
	z-index: 100;
	background-color: black;
	min-width: 100vw;
	min-height: 100vh;
	position: fixed;
	top: 0;
	left: 0;
	transition: opacity 0.5s ease-out;
	pointer-events: none;
	opacity: 0;
}
#navbar {
	height: 120px;
	position: absolute;
	z-index: 110;
	width: 100%;
	background-color: #ffffff80;
	transition: all 0.3s ease-out;
}
#navbar.sticky {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	background-color: var(--bg-dark);
	color: white;
}
.w3-dropdown-hover.w3-right .w3-dropdown-content {
	right: 0;
}

</style>

<div id="overlay"></div>

<div>
	<!--div id="navbar-backdrop" style="min-height: 120px;"-->
		<div id="navbar">
			<div class="w3-bar">
				<a href="/home.html" class="w3-button w3-bar-item">Hjem</a>
				<div class="w3-dropdown-hover">
					<button class="w3-button">Vi tilbyder</button>
					<div class="w3-dropdown-content w3-bar-block w3-card-4">
						<a href="/hesteskole.html" class="w3-button w3-bar-item">Hesteskole</a>
						<a href="/terapi.html" class="w3-button w3-bar-item">Terapi</a>
						<a href="/træning.html" class="w3-button w3-bar-item">Træning</a>
						<a href="/transport.html" class="w3-button w3-bar-item">Hestetransport</a>
					</div>
				</div>
				<div class="w3-dropdown-hover">
					<button class="w3-button">Distance</button>
					<div class="w3-dropdown-content w3-bar-block w3-card-4">
						<a href="/distance-teamet.html" class="w3-button w3-bar-item">Hjælperteamet</a>
						<a href="/distance-mentor.html" class="w3-button w3-bar-item">DRF mentor</a>
						<a href="/distance-resultater.html" class="w3-button w3-bar-item">Resultater</a>
						<a href="/distance-træning.html" class="w3-button w3-bar-item">Træning</a>
					</div>
				</div>
				<!-- RIGHT -->
				<div class="w3-dropdown-hover w3-right">
					<button class="w3-button">Om os</button>
					<div class="w3-dropdown-content w3-bar-block w3-card-4">
						<a href="/lone.html" class="w3-button w3-bar-item">Om Lone</a>
						<a href="/teamet.html" class="w3-button w3-bar-item">Om teamet</a>
						<a href="/familie.html" class="w3-button w3-bar-item">Om os</a>
						<a href="/heste.html" class="w3-button w3-bar-item">Vores heste</a>
						<a href="/tidligere-heste.html" class="w3-button w3-bar-item">Tidligere heste</a>
					</div>
				</div>
				<div class="w3-dropdown-hover w3-right">
					<button class="w3-button">Information</button>
					<div class="w3-dropdown-content w3-bar-block w3-card-4">
						<a href="/holdliste.html" class="w3-button w3-bar-item">Holdliste</a>
						<a href="/prisliste.html" class="w3-button w3-bar-item">Prisliste</a>
					</div>
				</div>
			</div>
			<div class="w3-cell-row">
				<div class="w3-panel w3-cell w3-cell-middle">
					<h1>Kastaniegård Endurance Team & Horse Team</h1>
				</div>
				<!--div class="w3-cell w3-rest">
					{{ menu-button.html }}
				</div-->
			</div>
		</div>
	<!--/div-->
</div>

<script>

	for (let el of document.querySelectorAll("#navbar a").values()) {
		if (document.location.pathname == el.attributes.href.value) {
			el.classList.add("w3-green")
			while (el = el.parentElement) {
				if (el.classList.contains("w3-dropdown-hover")) {
					el.children[0].classList.add("w3-green")
				}
			}
			break
		}
	}

	let menuOpen = false
	const overlay = document.getElementById("overlay")
	const menuDropdown = document.getElementById("menu-content")
	function toggleMenu() {
		menuOpen ^= true
		if (menuOpen) {
			overlay.style.opacity = 0.7
			//overlay.style.pointerEvents = "all"
			menuDropdown.classList.add("w3-show")
		} else {
			overlay.style.opacity = 0
			//overlay.style.pointerEvents = "none"
			menuDropdown.classList.remove("w3-show")
		}
	}

	const scrollHeader = document.getElementById("navbar")
	const offsetTop = scrollHeader.offsetTop
	window.onscroll = () => {
		if (window.pageYOffset > offsetTop) {
			scrollHeader.classList.add("sticky")
		} else {
			scrollHeader.classList.remove("sticky")
		}
	}

</script>